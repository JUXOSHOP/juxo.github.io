<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tienda de Golosinas</title>
<style>
body { font-family: Arial; padding: 20px; background: #f9f9f9; }
#buscar { width: 100%; padding: 10px; margin-bottom: 20px; font-size: 16px; }
.boton-categoria { padding: 5px 10px; margin-right: 5px; margin-bottom: 20px; cursor: pointer; border: 1px solid #007bff; background: #007bff; color: #fff; }
.boton-categoria:hover { background: #0056b3; }
.producto { display: block; border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; background: #fff; }
.producto img { max-width: 100px; display: block; margin-bottom: 10px; }
.precio { font-weight: bold; margin-bottom: 5px; }
.stock { color: green; margin-bottom: 10px; }
.agregar { padding: 5px 10px; background: #28a745; color: #fff; border: none; cursor: pointer; }
.agregar:hover { background: #218838; }
#carrito { margin-top: 20px; border: 1px solid #ccc; padding: 10px; background: #fff; }
#carrito h3 { margin-top: 0; }
#enviarWhatsapp { margin-top: 10px; padding: 10px; background: #25D366; color: #fff; border: none; cursor: pointer; font-size: 16px; }
#enviarWhatsapp:hover { background: #1ebe57; }
</style>
</head>
<body>

<h1>Tienda de Golosinas</h1>

<input type="text" id="buscar" placeholder="Buscar producto...">

<div id="categorias">
  <button class="boton-categoria" data-categoria="todos">Todos</button>
  <button class="boton-categoria" data-categoria="golosinas">Golosinas</button>
  <button class="boton-categoria" data-categoria="jugos">Jugos</button>
  <button class="boton-categoria" data-categoria="alfajores">Alfajores</button>
  <button class="boton-categoria" data-categoria="otros">Otros</button>
</div>

<div id="productos">
  <div class="producto" data-categoria="golosinas"><img src="imagenes/globo-bombuchas-x-100-un.jpg" alt=""><h3>Globo Bombuchas x100</h3><div class="precio">$2.000</div><div class="stock">Disponible</div><button class="agregar">Agregar al carrito</button></div>
  <div class="producto" data-categoria="jugos"><img src="imagenes/juguito-pepito-triple-sabor.jpg" alt=""><h3>Juguito Pepito triple sabor</h3><div class="precio">$700</div><div class="stock">Disponible</div><button class="agregar">Agregar al carrito</button></div>
  <div class="producto" data-categoria="alfajores"><img src="imagenes/alfajor-fulbito-chocolate.jpg" alt=""><h3>Alfajor Fulbito Chocolate</h3><div class="precio">$400</div><div class="stock">Disponible</div><button class="agregar">Agregar al carrito</button></div>
</div>

<div id="carrito">
  <h3>Carrito:</h3>
  <ul id="listaCarrito"></ul>
  <button id="enviarWhatsapp">Enviar por WhatsApp</button>
</div>

<script>
// FILTRO PRODUCTOS
const inputBuscar = document.getElementById('buscar');
const productos = document.querySelectorAll('.producto');
const botones = document.querySelectorAll('.boton-categoria');

function filtrarProductos() {
  const texto = inputBuscar.value.toLowerCase();
  const categoriaActiva = document.querySelector('.boton-categoria.activo')?.dataset.categoria || 'todos';
  productos.forEach(producto => {
    const nombre = producto.querySelector('h3').textContent.toLowerCase();
    const categoria = producto.dataset.categoria;
    producto.style.display = (nombre.includes(texto) && (categoriaActiva === 'todos' || categoria === categoriaActiva)) ? 'block' : 'none';
  });
}

inputBuscar.addEventListener('input', filtrarProductos);
botones.forEach(boton => {
  boton.addEventListener('click', () => {
    botones.forEach(b => b.classList.remove('activo'));
    boton.classList.add('activo');
    filtrarProductos();
  });
});

// CARRITO
let carrito = [];
const listaCarrito = document.getElementById('listaCarrito');

function actualizarCarrito() {
  listaCarrito.innerHTML = '';
  carrito.forEach((item, index) => {
    const li = document.createElement('li');
    li.textContent = `${item.nombre} - ${item.precio}`;
    // Opción para eliminar del carrito
    const eliminar = document.createElement('button');
    eliminar.textContent = 'X';
    eliminar.style.marginLeft = '10px';
    eliminar.style.cursor = 'pointer';
    eliminar.onclick = () => { carrito.splice(index,1); actualizarCarrito(); };
    li.appendChild(eliminar);
    listaCarrito.appendChild(li);
  });
}

// AGREGAR PRODUCTOS
document.querySelectorAll('.agregar').forEach(btn => {
  btn.addEventListener('click', () => {
    const producto = btn.closest('.producto');
    const nombre = producto.querySelector('h3').textContent;
    const precio = producto.querySelector('.precio').textContent;
    carrito.push({nombre, precio});
    actualizarCarrito();
  });
});

// ENVIAR A WHATSAPP
document.getElementById('enviarWhatsapp').addEventListener('click', () => {
  if(carrito.length === 0) { alert('El carrito está vacío'); return; }
  let mensaje = '¡Hola! Quiero comprar estos productos:\n';
  carrito.forEach(item => { mensaje += `- ${item.nombre} (${item.precio})\n`; });
  const telefono = '54911XXXXXXX'; // tu número de WhatsApp
  const url = `https://wa.me/${telefono}?text=${encodeURIComponent(mensaje)}`;
  window.open(url, '_blank');
});
</script>

</body>
</html>
